{"version":3,"file":"editor.js","mappings":"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","sources":["webpack://Poeticsoft Content Payment Plugin/./node_modules/uuid/dist/native.js","webpack://Poeticsoft Content Payment Plugin/./node_modules/uuid/dist/regex.js","webpack://Poeticsoft Content Payment Plugin/./node_modules/uuid/dist/rng.js","webpack://Poeticsoft Content Payment Plugin/./node_modules/uuid/dist/stringify.js","webpack://Poeticsoft Content Payment Plugin/./node_modules/uuid/dist/v4.js","webpack://Poeticsoft Content Payment Plugin/./node_modules/uuid/dist/validate.js","webpack://Poeticsoft Content Payment Plugin/./src/block/insertpage/editor.scss?b7e0","webpack://Poeticsoft Content Payment Plugin/./src/block/insertpage/pageselector.js","webpack://Poeticsoft Content Payment Plugin/./src/block/insertpage/usefeatured.js","webpack://Poeticsoft Content Payment Plugin/webpack/bootstrap","webpack://Poeticsoft Content Payment Plugin/webpack/runtime/define property getters","webpack://Poeticsoft Content Payment Plugin/webpack/runtime/hasOwnProperty shorthand","webpack://Poeticsoft Content Payment Plugin/webpack/runtime/make namespace object","webpack://Poeticsoft Content Payment Plugin/./src/block/insertpage/editor.js"],"sourcesContent":["const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction _v4(options, buf, offset) {\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    return _v4(options, buf, offset);\n}\nexport default v4;\n","import REGEX from './regex.js';\nfunction validate(uuid) {\n    return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;\n","// extracted by mini-css-extract-plugin\nexport {};","const {\r\n  useState,\r\n  useMemo\r\n} = wp.element\r\nconst {\r\n  SelectControl,\r\n  Button\r\n} = wp.components\r\nconst {\r\n  useSelect,\r\n  dispatch\r\n} = wp.data\r\nconst {\r\n  parse\r\n} = wp.blocks\r\n\r\nexport const PageSelector = ({\r\n  thisPageId, \r\n  attributes, \r\n  setAttributes\r\n}) => { \r\n\r\n  const { \r\n    pageid\r\n  } = attributes\r\n\r\n  const [refreshKey, setRefreshKey ] = useState(0)\r\n\r\n  const refreshPagesList = () => {\r\n\r\n    dispatch('core')\r\n    .invalidateResolution(\r\n      'getEntityRecords',\r\n      [\r\n        'postType', \r\n        'page', \r\n        { \r\n          status: 'publish', \r\n          per_page: -1 \r\n        } \r\n      ]\r\n    )\r\n\r\n    setRefreshKey(Math.random())\r\n  }\r\n    \r\n  const pagesList = useSelect(\r\n    select => {\r\n\r\n      return select('core')\r\n      .getEntityRecords(\r\n        'postType', \r\n        'page', \r\n        { \r\n          per_page: -1,\r\n          status: 'publish'\r\n        }\r\n      )\r\n    }, \r\n    [refreshKey]\r\n  )\r\n    \r\n  const buildHierarchy = (\r\n    pagesList, \r\n    parent = 0, \r\n    level = 0\r\n  ) => {\r\n\r\n    const children = pagesList\r\n    .filter(p => p.parent === parent)\r\n\r\n    return children\r\n    .flatMap(page => {\r\n\r\n      const prefix = '—'.repeat(level)\r\n      const label = `${prefix} ${page.title.rendered || '(Sin título)'}`\r\n\r\n      return [\r\n        { label, value: page.id },\r\n        ...buildHierarchy(pagesList, page.id, level + 1),\r\n      ]\r\n    })\r\n  }\r\n\r\n  const allowedPage = pageid => {\r\n\r\n    if(pageid == thisPageId) { return false } // Misma página, no permitido\r\n\r\n    const page = pagesList.find(p => p.id == pageid)\r\n    const blocks = parse(page.content.raw)\r\n    const blocksinsertpage = blocks.filter(\r\n      b => b.name == 'poeticsoft/insertpage'\r\n    )\r\n    if(!blocksinsertpage.length) { return true } // Pagina sin inserts, permitido\r\n\r\n    const blocksinsertthispage = blocksinsertpage\r\n    .filter(b => b.attributes.pageid == thisPageId)\r\n\r\n    if(blocksinsertthispage.length > 0) { return false } // Pagina con inserts de la misma página, no permitido\r\n\r\n    return blocksinsertpage\r\n    .reduce((result, b) => {\r\n\r\n      result = result && allowedPage(b.attributes.pageid)\r\n\r\n      return result\r\n\r\n    }, true)\r\n\r\n  }\r\n\r\n  const options = useMemo(\r\n    () => {\r\n\r\n      if (!pagesList) return [{ \r\n        label: 'Cargando páginas...', \r\n        value: 0 \r\n      }]\r\n\r\n      const allowedpages = pagesList\r\n      .filter(p => allowedPage(p.id))\r\n      .sort(\r\n        (a, b) => {\r\n\r\n          return a.menu_order - b.menu_order\r\n        }\r\n      )\r\n\r\n      return [\r\n        { \r\n          label: 'Selecciona una página', \r\n          value: 0 \r\n        },\r\n        ...buildHierarchy(allowedpages),\r\n      ]\r\n\r\n    }, \r\n    [ pagesList ]\r\n  )\r\n\r\n  return (\r\n    <SelectControl\r\n      label={\r\n        <div className=\"TitleRefresh\">\r\n          <div className=\"Title\">\r\n            Seleccionar Página\r\n          </div>\r\n          <Button \r\n            className=\"Refresh\"\r\n            variant=\"secondary\"\r\n            onClick={ refreshPagesList }\r\n          >\r\n            Recargar\r\n          </Button>\r\n        </div>\r\n      }\r\n      value={ pageid }\r\n      options={ options }\r\n      onChange={\r\n        value => setAttributes({\r\n          pageid: parseInt(value)\r\n        })\r\n      }\r\n    />\r\n  )\r\n}\r\n","const { \r\n  useSelect \r\n} = wp.data\r\n\r\nexport const useFeaturedImage = pageId => {\r\n\r\n  const page = useSelect(\r\n    select => pageId ? \r\n    select('core')\r\n    .getEntityRecord(\r\n      'postType', \r\n      'page', \r\n      pageId\r\n    )\r\n    : \r\n    null,\r\n    [ pageId ]\r\n  )\r\n\r\n  const media = useSelect(\r\n    select =>\r\n    page && page.featured_media ? \r\n    select('core')\r\n    .getMedia(page.featured_media)\r\n    : \r\n    null,\r\n    [ page ]\r\n  )\r\n\r\n  if (!page) return { \r\n    loading: true, \r\n    url: null, \r\n    alt: null \r\n  }\r\n  if (!page.featured_media) return { \r\n    loading: false, \r\n    url: null, \r\n    alt: null \r\n  }\r\n  if (!media) return { \r\n    loading: true, \r\n    url: null, \r\n    alt: null \r\n  }\r\n\r\n  return {\r\n    loading: false,\r\n    url: media.source_url,\r\n    alt: media.alt_text || '',\r\n  }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { v4 as uuidv4 } from 'uuid'\r\nconst { \r\n  registerBlockType \r\n} = wp.blocks\r\nconst { \r\n  useBlockProps,\r\n  InspectorControls \r\n} = wp.blockEditor\r\nconst {\r\n  useEffect\r\n} = wp.element\r\nconst {\r\n  PanelBody,\r\n  ToggleControl\r\n} = wp.components\r\nconst { \r\n  useSelect \r\n} = wp.data\r\n\r\nimport { \r\n  PageSelector\r\n} from './pageselector';\r\nimport { \r\n  useFeaturedImage\r\n} from './usefeatured';\r\n\r\nimport metadata from 'blocks/insertpage/block.json'\r\nimport './editor.scss'\r\n\r\nconst Edit = props => {\r\n  \r\n  const {\r\n    clientId,\r\n    attributes, \r\n    setAttributes \r\n  } = props  \r\n  const { \r\n    blockId,\r\n    pageid, \r\n    showthumb, \r\n    showtitle, \r\n    showexcerpt, \r\n    showcontent,\r\n    refClientId\r\n  } = attributes  \r\n  const blockProps = useBlockProps()\r\n  const featured = useFeaturedImage(pageid)\r\n  const thisPageId = useSelect(\r\n    select => select('core/editor')\r\n    .getCurrentPostId(), \r\n    []\r\n  )\r\n  const thisPageTitle = useSelect(\r\n    select => select('core/editor')\r\n    .getEditedPostAttribute('title'), \r\n    []\r\n  )\r\n\r\n  const page = useSelect(\r\n    select => {\r\n\r\n      return select('core')\r\n      .getEntityRecord(\r\n        'postType', \r\n        'page', \r\n        pageid  \r\n      )\r\n    },\r\n    [pageid]\r\n  )\r\n\r\n  useEffect(() => {\r\n\r\n    if (!blockId) {\r\n\r\n      setAttributes({ \r\n        blockId: uuidv4(),\r\n        refClientId: clientId\r\n      })\r\n\r\n    } else {\r\n\r\n      if (refClientId !== clientId) {\r\n\r\n        setAttributes({ \r\n          blockId: uuidv4(),\r\n          refClientId: clientId\r\n        })\r\n      }\r\n    }\r\n\r\n  }, [])\r\n   \r\n  return <>\r\n    <InspectorControls>\r\n      <PanelBody \r\n        className=\"PoeticsoftInsertPageControls\"    \r\n        title={ 'Opciones del Bloque' } \r\n        initialOpen={ true }\r\n      >\r\n        <PageSelector\r\n          thisPageId={ thisPageId }\r\n          attributes={  attributes }\r\n          setAttributes={ setAttributes }\r\n        />\r\n        <ToggleControl\r\n          label={ 'Mostrar Miniatura' }\r\n          checked={!!showthumb}\r\n          onChange={\r\n            value  => setAttributes({ \r\n              showthumb: value \r\n            })\r\n          }\r\n        />\r\n        <ToggleControl\r\n          label={ 'Mostrar Título' }\r\n          checked={ !!showtitle }\r\n          onChange={\r\n            value  => setAttributes({\r\n              showtitle: value \r\n            })\r\n          }\r\n        />\r\n        <ToggleControl\r\n          label={ 'Mostrar Extracto' }\r\n          checked={!!showexcerpt}\r\n          onChange={\r\n            value  => setAttributes({ \r\n              showexcerpt: value \r\n            })\r\n          }\r\n        />\r\n        <ToggleControl\r\n          label={ 'Mostrar Contenido' }\r\n          checked={!!showcontent}\r\n          onChange={\r\n            value  => setAttributes({ \r\n              showcontent: value \r\n            })\r\n          }\r\n        />\r\n      </PanelBody>\r\n    </InspectorControls>\r\n    <div { ...blockProps }>\r\n      {\r\n        !pageid &&\r\n        <div className=\"NoPage\">\r\n          Selecciona página\r\n        </div>\r\n      }\r\n      {\r\n        !showthumb &&\r\n        !showtitle &&\r\n        !showexcerpt &&\r\n        !showcontent &&\r\n        <div className=\"NoContents\">\r\n          No contents\r\n        </div>\r\n      }\r\n      {\r\n        page && showthumb && !featured.loading && featured.url && \r\n        <div className=\"Image\">\r\n          <img\r\n            src={ featured.url }\r\n            alt={ featured.alt }\r\n          />\r\n        </div>\r\n      }\r\n      {\r\n        page && showtitle &&\r\n        <h2 className=\"Title\">{ page.title.rendered }</h2>\r\n      }\r\n      {\r\n        page && showexcerpt &&\r\n        <div \r\n          className=\"Excerpt\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: page.excerpt.rendered\r\n          }}\r\n        />\r\n      }\r\n      {\r\n        page && showcontent &&\r\n        <div \r\n          className=\"Content\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: page.content.rendered\r\n          }}\r\n        />\r\n      }\r\n    </div>\r\n  </>\r\n}\r\n\r\nconst Save = () => null\r\n\r\nregisterBlockType(\r\n  metadata.name,\r\n  {\r\n    edit: Edit,\r\n    save: Save\r\n  }\r\n)"],"names":["_wp$element","wp","element","useState","useMemo","_wp$components","components","SelectControl","Button","_wp$data","data","useSelect","dispatch","parse","blocks","PageSelector","_ref","thisPageId","attributes","setAttributes","pageid","_useState","_useState2","_slicedToArray","refreshKey","setRefreshKey","refreshPagesList","invalidateResolution","status","per_page","Math","random","pagesList","select","getEntityRecords","buildHierarchy","parent","arguments","length","undefined","level","children","filter","p","flatMap","page","prefix","repeat","label","concat","title","rendered","value","id","_toConsumableArray","allowedPage","find","content","raw","blocksinsertpage","b","name","blocksinsertthispage","reduce","result","options","allowedpages","sort","a","menu_order","React","createElement","className","variant","onClick","onChange","parseInt","useFeaturedImage","pageId","getEntityRecord","media","featured_media","getMedia","loading","url","alt","source_url","alt_text","v4","uuidv4","registerBlockType","_wp$blockEditor","blockEditor","useBlockProps","InspectorControls","useEffect","PanelBody","ToggleControl","metadata","Edit","props","clientId","blockId","showthumb","showtitle","showexcerpt","showcontent","refClientId","blockProps","featured","getCurrentPostId","thisPageTitle","getEditedPostAttribute","Fragment","initialOpen","checked","src","dangerouslySetInnerHTML","__html","excerpt","Save","edit","save"],"sourceRoot":""}